import{s as _}from"./index-DK5WICtn.js";import{d as f,g as v,h as x,c as y,a as o,b as s,w as c,u as g,s as C,r as h,y as w,o as b}from"./index-d7axL_xv.js";import{u as k}from"./index-BjfdDptO.js";import{_ as A}from"./ActionForm.vue_vue_type_script_setup_true_lang-DlGXVR66.js";import"./index-DZQqA5uS.js";import"./index-C4Jjik4c.js";import"./index-xoP2DrFw.js";import"./index-D_33rlMc.js";import"./index-BrM16FOF.js";import"./index-BJVb_8vX.js";import"./index-rhSU9nKe.js";import"./actionTypes-DJoqH7I9.js";import"./users-CbvhcKd8.js";import"./schemas-C8kxHR-7.js";const B={class:"p-4"},E={class:"flex flex-col md:flex-row md:items-center md:justify-between mb-2 gap-4"},S={class:"flex items-center gap-4"},L=f({__name:"ActionCreate",setup(N){const r=w(),i=k(),a=v(),n=x(!1),l=async e=>{n.value=!0;try{await i.createAction({...e,assigned_to:e.assigned_to||void 0,related_id:e.related_id||void 0,due_date:e.due_date||void 0}),a.add({severity:"success",summary:"Succès",detail:"Action créée avec succès",life:3e3}),r.push("/actions")}catch(t){console.error("Erreur lors de la création de l'action:",t),a.add({severity:"error",summary:"Erreur",detail:"Erreur lors de la création de l'action",life:3e3})}finally{n.value=!1}},d=()=>r.push("/actions"),m=()=>r.back();return(e,t)=>{const u=h("font-awesome-icon"),p=_;return b(),y("div",B,[o("div",E,[o("div",S,[s(g(C),{text:"",rounded:"",severity:"secondary",onClick:m},{icon:c(()=>[s(u,{icon:"arrow-left"})]),_:1}),t[0]||(t[0]=o("div",null,[o("div",{class:"flex items-center gap-3"},[o("h2",{class:"text-color"},"Créer une nouvelle action")])],-1))])]),s(p,null,{content:c(()=>[s(A,{submitButtonText:"Créer l'action",loading:n.value,onSubmit:l,onCancel:d},null,8,["loading"])]),_:1})])}}});export{L as default};
