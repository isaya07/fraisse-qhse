import{s as f}from"./index-DK5WICtn.js";import{d as h,g as v,h as y,c as g,a,b as o,w as i,s as x,r as C,y as b,o as w}from"./index-d7axL_xv.js";import{u as B}from"./indicators-BcWegbov.js";import{_ as k}from"./IndicatorForm.vue_vue_type_script_setup_true_lang-WbijYyCa.js";import"./index-DZQqA5uS.js";import"./index-DbX5rEQv.js";import"./index-C4Jjik4c.js";import"./index-xoP2DrFw.js";import"./index-D_33rlMc.js";import"./index-BrM16FOF.js";import"./index-BixvgfbH.js";import"./indicatorCategories-Bys3qs2i.js";import"./users-CbvhcKd8.js";import"./schemas-C8kxHR-7.js";const I={class:"p-4 p-4"},E={class:"flex flex-col md:flex-row md:items-center md:justify-between mb-6"},K=h({__name:"IndicateurCreate",setup(S){const r=b(),c=B(),n=v(),s=y(!1),l=async e=>{s.value=!0;try{await c.createIndicator({...e,target_value:e.target_value,threshold_min:e.threshold_min,threshold_max:e.threshold_max}),n.add({severity:"success",summary:"Succès",detail:"Indicateur créé avec succès",life:3e3}),r.push("/indicators/config")}catch(t){console.error("Erreur lors de la création de l'indicateur:",t),n.add({severity:"error",summary:"Erreur",detail:"Erreur lors de la création de l'indicateur",life:3e3})}finally{s.value=!1}},m=()=>{r.push("/indicators/config")},u=()=>r.back();return(e,t)=>{const d=C("font-awesome-icon"),p=x,_=f;return w(),g("div",I,[a("div",E,[t[0]||(t[0]=a("h2",null,"Créer un nouvel indicateur",-1)),o(p,{label:"Retour",onClick:u,severity:"secondary",variant:"outlined"},{icon:i(()=>[o(d,{icon:"arrow-left",class:"mr-2"})]),_:1})]),o(_,null,{content:i(()=>[o(k,{submitButtonText:"Créer l'indicateur",loading:s.value,onSubmit:l,onCancel:m},null,8,["loading"])]),_:1})])}}});export{K as default};
