import{D as c,E as r}from"./index-oOuEsLBu.js";const d=c("indicatorCategory",{state:()=>({categories:[],loading:!1,error:null}),actions:{async fetchCategories(){this.loading=!0,this.error=null;try{const{get:s}=r(),t=await s("/indicator-categories");if(t.success&&t.data){const e=t.data;this.categories=(Array.isArray(e)?e:e.data)||[]}}catch(s){this.error="Erreur lors du chargement des catÃ©gories",console.error(s)}finally{this.loading=!1}},async createCategory(s){this.loading=!0;try{const{post:t}=r(),e=await t("/indicator-categories",s);e.success&&e.data&&this.categories.push(e.data)}catch(t){throw t}finally{this.loading=!1}},async updateCategory(s,t){this.loading=!0;try{const{put:e}=r(),a=await e(`/indicator-categories/${s}`,t);if(a.success&&a.data){const o=this.categories.findIndex(i=>i.id===s);o!==-1&&(this.categories[o]=a.data)}}catch(e){throw e}finally{this.loading=!1}},async deleteCategory(s){this.loading=!0;try{const{del:t}=r();(await t(`/indicator-categories/${s}`)).success&&(this.categories=this.categories.filter(a=>a.id!==s))}catch(t){throw t}finally{this.loading=!1}}}});export{d as u};
